<!doctype html>
<html
  class="no-js"
  lang="{{ request.locale.iso_code }}"
>{{ 'stellar-reverb.css' | asset_url | stylesheet_tag }}
  <head>
    <meta charset="utf-8">
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1"
    >

    {%- comment -%}
      SEO / Title
    {%- endcomment -%}
    <title>
      {%- if page_title == blank -%}
        {{ 'general.meta.title' | t: shop_name: shop.name }}
      {%- else -%}
        {{ page_title }}{% unless page_title contains shop.name %} – {{ shop.name }}{% endunless %}
      {%- endif -%}
    </title>

    {%- if page_description -%}
      <meta
        name="description"
        content="{{ page_description | escape }}"
      >
    {%- else -%}
      <meta
        name="description"
        content="Stellar Reverb – cosmic apparel, analog mysticism, and wearable soundscapes broadcasting from the edge of reality."
      >
    {%- endif -%}

    <meta name="theme-color" content="#0D0D0D">

    {%- comment -%}
      Favicon
    {%- endcomment -%}
    <link
      rel="icon"
      type="image/png"
      href="{{ 'favicon.png' | asset_url }}"
    >

    {%- comment -%}
      Preconnects for performance
    {%- endcomment -%}
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    {%- comment -%}
      Fonts – Orbitron / Montserrat
    {%- endcomment -%}
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Montserrat:wght@300;400;500;600;700&display=swap"
    >

    {%- comment -%}
      Design tokens as CSS variables
    {%- endcomment -%}
    <style>
      :root {
        --void-black: {{ settings.color_void_black | default: '#0D0D0D' }};
        --neon-magenta: {{ settings.color_neon_magenta | default: '#E13CFA' }};
        --cyan-blue: {{ settings.color_cyan_blue | default: '#28A8D6' }};
        --radioactive-green: {{ settings.color_radioactive_green | default: '#00F0AC' }};
        --cosmic-purple: {{ settings.color_cosmic_purple | default: '#6C24B3' }};
        --electric-yellow: {{ settings.color_electric_yellow | default: '#F4FF30' }};
        --chrome-silver: {{ settings.color_chrome_silver | default: '#B0B0B0' }};

        --font-title: 'Orbitron', system-ui, sans-serif;
        --font-body: 'Montserrat', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      }

      html {
        font-family: var(--font-body);
        background-color: var(--void-black);
        color: #f9fafb;
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      .focus\:not-sr-only:focus {
        position: static;
        width: auto;
        height: auto;
        margin: 0;
        overflow: visible;
        clip: auto;
        white-space: normal;
      }
    </style>

    {%- comment -%}
      Core CSS
    {%- endcomment -%}
    {{ 'base.css' | asset_url | stylesheet_tag }}

    {% comment %}
      Optional performance / extra files – safe even if missing
    {% endcomment %}
    {{ 'stellar-reverb-performance.css' | asset_url | stylesheet_tag }}

    {{ content_for_header }}

    {%- comment -%}
      Basic Org schema
    {%- endcomment -%}
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "{{ shop.name | escape }}",
        "url": "{{ shop.url }}",
        "logo": "{{ 'stellar-logo.png' | asset_url }}",
        "sameAs": [
          {% if settings.social_instagram != blank %}"{{ settings.social_instagram }}"{% endif %}
        ]
      }
    </script>
  </head>

<<<<<<< HEAD
  <body{% include 'floating-elements' %}
=======
  <body {% include 'floating-elements' %}
>>>>>>> 51bb2c5c2dbc51a96f4a9fef76bf1943ea252b99
    class="
      template-{{ template.name | handle }}
      template-{{ template | replace: '.', '-' | replace: '/', '-' }}
    "
  >
    <a
      class="skip-to-content sr-only focus:not-sr-only"
      href="#MainContent"
    >
      {{ 'accessibility.skip_to_content' | t | default: 'Skip to main content' }}
    </a>

    {%- comment -%}
      Global header / nav
      Use the actual section handles in your repo:
      - stellar-navigation-matrix.liquid  (main nav)
      - stellar-footer.liquid             (footer)
    {%- endcomment -%}

    <main
      id="MainContent"
      role="main"
      tabindex="-1"
      class="main-content"
    >
      {{ content_for_layout }}
    </main>

    {% section 'stellar-footer' %}

    {%- comment -%}
      Global JS
    {%- endcomment -%}
    <script src="{{ 'global.js' | asset_url }}" defer></script>

    {%- comment -%}
      Lore engine (optional)
    {%- endcomment -%}
    {% if template contains 'universal-lore' or template contains 'lore' %}
      <script src="{{ 'stellar-reverb-lore.js' | asset_url }}" defer></script>
    {% endif %}

    {%- comment -%}
      Shop All filters (optional)
    {%- endcomment -%}
    {% if template contains 'collection.shop-all' %}
      <script src="{{ 'stellar-shop-all.js' | asset_url }}" defer></script>
    {% endif %}

    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker
          .register('{{ "sw.js" | asset_url }}')
          .catch(function (error) {
            console.log('Service worker registration failed', error);
          });
      }
    </script>
  </body>
</html>