{% comment %}
  =====================================================
  ARCHIVE EXIT NAVIGATION (Shopify 2.0)
  =====================================================
  
  Features:
  - Exit navigation back to main archive
  - Holographic portal aesthetic
  - Calm, mystical presentation
{% endcomment %}

{%- liquid
  assign exit_text = section.settings.exit_text | default: 'Return to Transmission Archive'
  assign exit_url = section.settings.exit_url | default: '/pages/transmission-archive'
-%}

<section class="archive-exit-nav" data-section-id="{{ section.id }}">
  <div class="exit-container">
    <div class="exit-portal">
      <div class="portal-ring portal-ring-1"></div>
      <div class="portal-ring portal-ring-2"></div>
      <div class="portal-ring portal-ring-3"></div>
      
      <div class="exit-content">
        <p class="exit-label">EXIT PORTAL</p>
        <a href="{{ exit_url }}" class="exit-link">
          <span class="exit-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <span class="exit-text">{{ exit_text }}</span>
        </a>
        <p class="exit-hint">The archive remembers you.</p>
      </div>
    </div>
    
    <div class="exit-footer">
      <p class="footer-text">
        <span class="footer-line">TRANSMISSION COMPLETE</span>
        <span class="footer-divider">//</span>
        <span class="footer-line">SIGNAL FADING</span>
      </p>
    </div>
  </div>
</section>

<style>
  .archive-exit-nav {
    position: relative;
    padding: 8rem 2rem 4rem 2rem;
    z-index: 1;
  }
  
  .exit-container {
    max-width: 600px;
    margin: 0 auto;
  }
  
  .exit-portal {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 300px;
    margin-bottom: 4rem;
  }
  
  .portal-ring {
    position: absolute;
    border-radius: 50%;
    border: 1px solid rgba(40, 168, 214, 0.3);
    animation: portalRotate 20s linear infinite;
  }
  
  .portal-ring-1 {
    width: 250px;
    height: 250px;
    animation-duration: 20s;
  }
  
  .portal-ring-2 {
    width: 200px;
    height: 200px;
    animation-duration: 15s;
    animation-direction: reverse;
  }
  
  .portal-ring-3 {
    width: 150px;
    height: 150px;
    animation-duration: 10s;
  }
  
  @keyframes portalRotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
  .exit-content {
    position: relative;
    z-index: 2;
    text-align: center;
  }
  
  .exit-label {
    font-family: 'PP Neuemachina', 'Courier New', monospace;
    font-size: 0.75rem;
    color: rgba(0, 240, 172, 0.7);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 1.5rem;
  }
  
  .exit-link {
    display: inline-flex;
    align-items: center;
    gap: 0.8rem;
    font-family: 'Orbitron', monospace;
    font-size: 1.1rem;
    font-weight: 600;
    color: rgba(40, 168, 214, 0.9);
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 1rem 2rem;
    border: 2px solid rgba(40, 168, 214, 0.4);
    border-radius: 4px;
    transition: all 0.3s ease;
    margin-bottom: 1rem;
  }
  
  .exit-link:hover {
    border-color: rgba(40, 168, 214, 0.8);
    box-shadow: 0 0 30px rgba(40, 168, 214, 0.4);
    transform: translateX(-5px);
  }
  
  .exit-icon {
    display: flex;
    align-items: center;
    transition: transform 0.3s ease;
  }
  
  .exit-link:hover .exit-icon {
    transform: translateX(-5px);
  }
  
  .exit-hint {
    font-family: 'PP Mori', sans-serif;
    font-size: 0.9rem;
    color: rgba(128, 128, 128, 0.6);
    font-style: italic;
    margin-top: 1.5rem;
  }
  
  .exit-footer {
    text-align: center;
    padding-top: 3rem;
    border-top: 1px solid rgba(128, 128, 128, 0.1);
  }
  
  .footer-text {
    font-family: 'PP Neuemachina', 'Courier New', monospace;
    font-size: 0.75rem;
    color: rgba(128, 128, 128, 0.5);
    text-transform: uppercase;
    letter-spacing: 1px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  
  .footer-divider {
    color: rgba(40, 168, 214, 0.3);
  }
  
  @media (max-width: 768px) {
    .archive-exit-nav {
      padding: 5rem 1.5rem 3rem 1.5rem;
    }
    
    .exit-portal {
      min-height: 250px;
    }
    
    .portal-ring-1 {
      width: 200px;
      height: 200px;
    }
    
    .portal-ring-2 {
      width: 160px;
      height: 160px;
    }
    
    .portal-ring-3 {
      width: 120px;
      height: 120px;
    }
    
    .exit-link {
      font-size: 0.95rem;
      padding: 0.9rem 1.5rem;
    }
    
    .footer-text {
      flex-direction: column;
      gap: 0.3rem;
    }
    
    .footer-divider {
      display: none;
    }
  }
</style>

{% schema %}
{
  "name": "Archive Exit Nav",
  "settings": [
    { "type": "text", "id": "exit_text", "label": "Link Text", "default": "Return to Archive" },
    { "type": "url", "id": "exit_url", "label": "Exit URL" }
  ],
  "presets": [{ "name": "Archive Exit Nav" }]
}
{% endschema %}