<section class="sr-ar-rift" data-product-handle="{{ product.handle }}">
  <div class="sr-rift-trigger-box">
    <div class="sr-rift-glitch-layer"></div>
    
    <button class="sr-rift-btn" data-ar-initiate>
      <div class="sr-btn-content">
        <span class="sr-btn-label">// INJECT_HOLOGRAM</span>
        <span class="sr-btn-sub">STABILITY: 84%</span>
      </div>
      <div class="sr-btn-icon">
        <svg viewBox="0 0 64 64"><path d="M32 2v20m0 20v20M2 32h20m20 0h20" stroke="currentColor" stroke-width="2"/></svg>
      </div>
    </button>

    <div class="sr-glitch-emitter" aria-hidden="true">
      {% for i in (1..12) %}
        <div class="sr-particle" style="--i: {{ i }}; --delay: {{ i | times: 0.1 }}s;"></div>
      {% endfor %}
    </div>
  </div>

  <div id="sr-ar-modal" class="sr-modal" aria-hidden="true">
    <div class="sr-modal-handshake">
      <p class="glitch-text" data-text="AUTHENTICATING_RELIC...">AUTHENTICATING_RELIC...</p>
      <div class="sr-boot-bar"><div id="sr-auth-progress"></div></div>
    </div>
    
    <model-viewer 
      id="sr-relic-model"
      src="{{ product.media | where: 'media_type', 'model' | first | map: 'sources' | first | map: 'url' }}"
      ios-src="{{ product.media | where: 'media_type', 'model' | first | map: 'sources' | last | map: 'url' }}"
      ar ar-modes="webxr scene-viewer quick-look"
      camera-controls auto-rotate
      class="sr-model-display">
      <button slot="ar-button" class="sr-ar-native-btn">PROJECT INTO SPACE</button>
    </model-viewer>
    
    <button class="sr-modal-close" data-rift-close>[ CLOSE_RIFT ]</button>
  </div>
</section>