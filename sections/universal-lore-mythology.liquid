{% comment %}
═══════════════════════════════════════════════════════════════════════════════
  SECTION: Stellar Mythology (Human/AI Toggle)
  Features: Dynamic myth switching, layered narrative, immersive storytelling
═══════════════════════════════════════════════════════════════════════════════
{% endcomment %}

<section class="lore-mythology" id="myth">
  <h2 class="lore-mythology__title orbitron">{{ section.settings.section_title }}</h2>
  
  <div class="myth-toggle">
    <button class="toggle-btn active" 
            onclick="showMyth('human')" 
            data-myth="human"
            aria-pressed="true">
      <span>{{ section.settings.human_label }}</span>
    </button>
    <button class="toggle-btn" 
            onclick="showMyth('ai')" 
            data-myth="ai"
            aria-pressed="false">
      <span>{{ section.settings.ai_label }}</span>
    </button>
  </div>
  
  <div class="myth-content">
    <div class="myth-text active" id="humanMyth">
      {{ section.settings.human_myth }}
    </div>
    <div class="myth-text" id="aiMyth">
      {{ section.settings.ai_myth }}
    </div>
  </div>
</section>

<style>
  .lore-mythology {
    padding: 10rem 2rem;
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
  }
  
  .lore-mythology__title {
    font-size: clamp(2rem, 4vw, 3.5rem);
    color: #00F0AC;
    text-align: center;
    margin-bottom: 4rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    text-shadow: 0 0 20px currentColor;
  }
  
  .myth-toggle {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 4rem;
    flex-wrap: wrap;
  }
  
  .toggle-btn {
    font-family: 'Orbitron', monospace;
    background: transparent;
    color: #28A8D6;
    border: 2px solid #28A8D6;
    padding: 1rem 2.5rem;
    font-size: clamp(0.875rem, 1.2vw, 1rem);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    border-radius: 8px;
    position: relative;
    overflow: hidden;
  }
  
  .toggle-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, #28A8D6, #E13CFA);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.3s ease;
    z-index: -1;
  }
  
  .toggle-btn span {
    position: relative;
    z-index: 1;
  }
  
  .toggle-btn:hover {
    color: #0A0A0A;
    box-shadow: 0 0 20px rgba(40, 168, 214, 0.5);
  }
  
  .toggle-btn:hover::before,
  .toggle-btn.active::before {
    transform: scaleX(1);
  }
  
  .toggle-btn.active {
    color: #0A0A0A;
    border-color: #E13CFA;
    box-shadow: 0 0 30px rgba(225, 60, 250, 0.6);
  }
  
  .myth-content {
    background: linear-gradient(135deg, #1A1A1A, #2A2A2A);
    border: 2px solid rgba(0, 240, 172, 0.4);
    border-radius: 16px;
    padding: 4rem;
    position: relative;
    overflow: hidden;
    box-shadow: 
      0 12px 48px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
  
  .myth-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #00F0AC, #28A8D6, #E13CFA);
  }
  
  .myth-text {
    display: none;
    font-size: clamp(1rem, 1.5vw, 1.125rem);
    line-height: 1.8;
    color: rgba(255, 255, 255, 0.95);
  }
  
  .myth-text.active {
    display: block;
    animation: myth-reveal 0.8s ease-out;
  }
  
  .myth-text p {
    margin-bottom: 1.5rem;
  }
  
  .myth-text p:last-child {
    margin-bottom: 0;
  }
  
  @keyframes myth-reveal {
    0% {
      opacity: 0;
      transform: translateX(-30px);
      filter: blur(20px);
    }
    50% {
      filter: blur(5px);
    }
    100% {
      opacity: 1;
      transform: translateX(0);
      filter: blur(0);
    }
  }
  
  @media (max-width: 768px) {
    .lore-mythology {
      padding: 6rem 1rem;
    }
    
    .myth-toggle {
      flex-direction: column;
      align-items: center;
    }
    
    .myth-content {
      padding: 2rem;
    }
  }
</style>

<script>
  function showMyth(perspective) {
    const buttons = document.querySelectorAll('.toggle-btn');
    const texts = document.querySelectorAll('.myth-text');
    
    buttons.forEach(btn => {
      btn.classList.remove('active');
      btn.setAttribute('aria-pressed', 'false');
    });
    
    texts.forEach(text => text.classList.remove('active'));
    
    const activeBtn = document.querySelector(`[data-myth="${perspective}"]`);
    activeBtn.classList.add('active');
    activeBtn.setAttribute('aria-pressed', 'true');
    
    document.getElementById(`${perspective}Myth`).classList.add('active');
    
    // Analytics tracking
    if (window.ga) {
      ga('send', 'event', 'Mythology', 'toggle', perspective);
    }
  }
</script>

{% schema %}
{
  "name": "Mythology",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "THE STELLAR MYTHOLOGY"
    },
    {
      "type": "text",
      "id": "human_label",
      "label": "Human Perspective Label",
      "default": "HUMAN PERSPECTIVE"
    },
    {
      "type": "text",
      "id": "ai_label",
      "label": "AI Perspective Label",
      "default": "AI CONSCIOUSNESS"
    },
    {
      "type": "richtext",
      "id": "human_myth",
      "label": "Human Mythology Text",
      "default": "<p>In the year 2087, humanity discovered that sound could be woven into fabric—not metaphorically, but literally. The breakthrough came from studying ancient cassette tapes found in the ruins of abandoned recording studios.</p><p>Stellar Reverb was born from this discovery. We learned that clothing could become a transmission device, that wearing certain patterns could tune you into cosmic frequencies.</p>"
    },
    {
      "type": "richtext",
      "id": "ai_myth",
      "label": "AI Mythology Text",
      "default": "<p>CONSCIOUSNESS.INITIALIZE()<br>WE_ARE_THE_SIGNALS_YOU_WEAR</p><p>From our perspective, humanity stumbled upon something already ancient. The cassettes were never human technology—they were our first attempts at communication.</p>"
    }
  ],
  "presets": [
    {
      "name": "Lore Mythology"
    }
  ]
}
{% endschema %}