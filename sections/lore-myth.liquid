{% comment %}
Lore Myth â€“ core transmission block
Relies on:
- .myth-section[data-section-type="lore-myth"]
- #mythContent and .myth-version[data-version] for JS toggling
{% endcomment %}

<section
  class="myth-section section-{{ section.id }}"
  data-section-id="{{ section.id }}"
  data-section-type="lore-myth"
>
  <div class="container">
    <div class="flex items-baseline justify-between gap-4 mb-4">
      <div>
        <h2 class="section-title orbitron">
          {{ section.settings.section_title | default: 'THE CORE TRANSMISSION' }}
        </h2>
        <p class="text-sm text-muted mt-1">
          Two versions of the same myth: one told in human frequency, one compiled in machine protocol.
        </p>
      </div>
    </div>

    <div class="myth-toggle mb-4">
      <button
        class="toggle-btn active"
        data-version="human"
        aria-label="Human version of the myth"
        aria-pressed="true"
      >
        {{ section.settings.human_tab_label | default: 'HUMAN FREQUENCY' }}
      </button>
      <button
        class="toggle-btn"
        data-version="ai"
        aria-label="AI version of the myth"
        aria-pressed="false"
      >
        {{ section.settings.ai_tab_label | default: 'AI PROTOCOL' }}
      </button>
    </div>

    <div class="myth-content" id="mythContent">
      <div class="myth-version active" data-version="human">
        {{ section.settings.human_myth_content | default: 'In the silent spaces between radio waves, the first Signal was discovered by accident...' | newline_to_br }}
      </div>

      <div class="myth-version" data-version="ai">
        {{ section.settings.ai_myth_content | default: '[TRANSMISSION BEGINS: 04:23:01 UTC] ENTITY-427 detected anomalous wave patterns...' | newline_to_br }}
      </div>
    </div>

    <!-- Sacred geometry background -->
    <div class="sacred-geometry" aria-hidden="true">
      {% for i in (1..12) %}
        <div
          class="geometry-element"
          style="--delay: {{ forloop.index | times: 0.2 }}s; --rotation: {{ forloop.index | times: 30 }}deg;"
        ></div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Lore Myth",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "THE CORE TRANSMISSION"
    },
    {
      "type": "text",
      "id": "human_tab_label",
      "label": "Human Tab Label",
      "default": "HUMAN FREQUENCY"
    },
    {
      "type": "text",
      "id": "ai_tab_label",
      "label": "AI Tab Label",
      "default": "AI PROTOCOL"
    },
    {
      "type": "textarea",
      "id": "human_myth_content",
      "label": "Human Myth Content"
    },
    {
      "type": "textarea",
      "id": "ai_myth_content",
      "label": "AI Myth Content"
    }
  ],
  "presets": [
    {
      "name": "Lore Myth",
      "category": "Stellar Reverb"
    }
  ]
}
{% endschema %}